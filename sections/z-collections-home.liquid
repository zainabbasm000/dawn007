<style>
  .tus_collections_bg {
    width: 100%;
    background-color: {{section.settings.tus_collections_bg}};
    position: relative;
  }
.tus_collections_bg .tus_container 
  {
    padding:0;
  }
  .tus_collections_top_design {
    width: 100%;
    position: absolute;
    z-index: 1;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
  }

  .tus_collections_top_design img {
    width: 100%;
    display: block;
  }

  .tus_collections {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    padding: 60px 10px 10px;
  }

  .tus_cs_collection {
    width: 25%;
    padding: 10px 10px 0px;
  }

  .tus_cs_collection a {
    text-decoration: none;
  }

  .tus_cs_collection_image {
    width: 100%;
    position: relative;
  }

  .tus_cs_collection_image img {
    width: 100%;
    display: block;
    opacity: 0;
  }

  .tus_cs_collection_overlay {
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
  }

  .tus_cs_collection_overlay_show {
    display: block !important;
  }

  .tus_cs_collection_title {
    width: 100%;
    text-align: center;
    position: absolute;
    z-index: 2;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 0px 20px;
  }

  .tus_cs_collection_title h2 {
    margin: 0px;
    font-family: var(--FS_Emeric_extra_bold);
    text-transform : uppercase;
    font-size: 31px;
    line-height: 31px;
    letter-spacing: 0px;
    text-shadow: 0px 4px 4px #00000040;
  }

  @media (max-width: 1024px){
    .tus_cs_collection_title h2 {
      font-size: 20px;
      line-height: 20px;
    }
  }

  @media (max-width: 768px){
        .tus_collections_bg .tus_container 
  {
    padding:0 !important;
  }
    .tus_collections_top_design {
      display: none;
    }

    .tus_collections {
      padding: 15px 5px 0px;
    }

    .tus_cs_collection {
      width: 50%;
      padding: 5px 5px;
    }

    .tus_cs_collection_title h2 {
      font-size: 24px;
      line-height: 24px;
    }

  }

  @media (max-width: 375px){
    .tus_cs_collection_title h2 {
      font-size: 17px;
      line-height: 17px;
    }
  }
  
</style>

<div id="tus-collections">
  <div class="tus_collections_bg">
    {% if section.settings.tus_collections_top_design != blank %}
    <div class="tus_collections_top_design">
      <img src="{{section.settings.tus_collections_top_design | img_url: "master"}}">
    </div>
    {% endif %}
    <div class="tus_container">
      <div class="tus_collections">
        {% for block in section.blocks %}
        {% if block.type == "collection_box" %}
        <div class="tus_cs_collection">
          {% assign collection = collections[block.settings.tus_cs_collection] %}
          <a href="{% if block.settings.tus_cs_collection_url != blank %}{{block.settings.tus_cs_collection_url}}{% else %}{{collection.url}}{% endif %}">
            <div class="tus_cs_collection_image">
              {% if block.settings.tus_cs_collection_image != blank %}
              <img src="{{block.settings.tus_cs_collection_image | img_url: "master"}}">
              {% else %}
              <img src="{{collection.image | img_url: "master"}}">
              {% endif %}
              <div 
                class="tus_cs_collection_overlay {% if block.settings.tus_cs_collection_overlay_show != blank %}tus_cs_collection_overlay_show{% endif %}" 
                style="background-color:{{block.settings.tus_cs_collection_overlay_bg}}; opacity:0.{{block.settings.tus_cs_collection_overlay_o}};"
              ></div>
              <div class="tus_cs_collection_title">
                {% if block.settings.tus_cs_collection_title != blank %}
                <h2 style="color:{{block.settings.tus_cs_collection_title_c}};">{{block.settings.tus_cs_collection_title}}</h2>
                {% else %}
                <h2 style="color:{{block.settings.tus_cs_collection_title_c}};">{{collection.title}}</h2>
                {% endif %}
              </div>
            </div>
          </a>
        </div>
        {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function(){
    setTimeout(function(){
      $(".tus_cs_collection_image img").each(function(){
        $(".tus_cs_collection_image img").css("opacity","1");
      });
    }, 1000);
  });
  
</script>

{% schema %}
  {
    "name": "TUS Collections",
    "settings": [
    {
    "type": "color",
    "id": "tus_collections_bg",
    "label": "Background Image",
    "default": "transparent"
    },
    {
    "type": "image_picker",
    "id": "tus_collections_top_design",
    "label": "Design"
    }
    ],
    "blocks": [
    {
    "type": "collection_box",
    "name": "Collection Box",
    "settings": [
    {
    "type": "collection",
    "id": "tus_cs_collection",
    "label": "Collection"
    },
    {
    "type": "checkbox",
    "id": "tus_cs_collection_overlay_show",
    "label": "Apply Overlay"
    },
    {
    "type": "color",
    "id": "tus_cs_collection_overlay_bg",
    "label": "Overlay Color",
    "default": "#000000"
    },
    {
    "type": "range",
    "id": "tus_cs_collection_overlay_o",
    "label": "Overlay Opacity",
    "min": 1,
    "max": 9,
    "default": 7
    },
    {
    "type": "url",
    "id": "tus_cs_collection_url",
    "label": "URL"
    },
    {
    "type": "image_picker",
    "id": "tus_cs_collection_image",
    "label": "Image"
    },
    {
    "type": "text",
    "id": "tus_cs_collection_title",
    "label": "Title"
    },
    {
    "type": "color",
    "id": "tus_cs_collection_title_c",
    "label": "Color",
    "default": "#ffffff"
    }
    ]
    }
    ],
    "presets": [
    {
    "name": "TUS Collections",
    "category": "Office Work"
    }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}